# ワークフローエディタ

ワークフローエディタは、トリガーとアクションを組み合わせて自動化パイプラインを視覚的に構築できる機能です。

## 概要

コードを書かずに、ドラッグ & ドロップでワークフローを構築できます：

```
[トリガー] → [アクション 1] → [アクション 2] → [通知]
```

## トリガー

ワークフローを起動する条件を設定します：

| トリガー | 説明 |
|---------|------|
| **Issue Created** | 新しい Issue が作成されたとき |
| **PR Merged** | PR がマージされたとき |
| **CI Failed** | CI/CD が失敗したとき |
| **Schedule** | 定期実行（cron 形式） |
| **Webhook** | 外部サービスからの Webhook |
| **Manual** | ダッシュボードから手動実行 |

## アクション

トリガー発火後に実行する処理を定義します：

| アクション | 説明 |
|-----------|------|
| **Run Tests** | テストを実行 |
| **Build** | ビルドを実行 |
| **Deploy** | デプロイを実行 |
| **Notify** | 通知を送信（Slack / Discord / Email） |
| **AI Analyze** | AI にコードを分析させる |
| **Create Issue** | 新しい Issue を自動作成 |
| **Create PR** | PR を自動作成 |

## ワークフローの例

### PR マージ後に自動テスト & 通知

```
[PR Merged]
  └─▶ [Run Tests]
        ├─ 成功 → [Notify: Slack] "テスト成功 ✅"
        └─ 失敗 → [Notify: Slack] "テスト失敗 ❌"
                   └─▶ [Create Issue] "テスト修復が必要"
```

### 定期的なセキュリティスキャン

```
[Schedule: 毎週月曜 AM 9:00]
  └─▶ [AI Analyze: security]
        └─▶ [Create Issue] 検出された脆弱性ごとに Issue 作成
              └─▶ [Notify: Email] セキュリティレポート送信
```

### Issue 作成から完了までの完全自動化

```
[Issue Created: label="ados"]
  └─▶ [AI で実装]
        └─▶ [Run Tests]
              ├─ 成功 → [Create PR]
              │           └─▶ [Notify: Slack]
              └─ 失敗 → [AI で修復] → [Run Tests] (ループ)
```

## ダッシュボードでの使い方

1. **Workflows** タブに移動
2. **新しいワークフロー** をクリック
3. トリガーを選択
4. アクションを追加・接続
5. 条件分岐を設定（オプション）
6. **保存** をクリック

## ワークフローのステータス

| ステータス | 説明 |
|-----------|------|
| 🟢 Active | 有効で実行中 |
| 🟡 Paused | 一時停止中 |
| 🔴 Error | エラーで停止 |
| ⚪ Draft | 下書き（未有効化） |
